{% load i18n %}

<div 
  class="row border-top border-secondary pb-2 pt-2" 
  style="cursor: pointer;"
  data-toggle="modal" 
  data-target="#showOrderModal"
  hx-get="{% url 'order_detail' object.id %}"
  hx-target="#modalBody"
>
  <div class="col-sm-2">
    <strong> {{ object.created_on | date:"d/m/y" }}</strong>
  </div>
  <div class="col-sm-4">
    {{ object.person.short_name }}
  </div>
  <div class="col-sm-2">
    {{ object.payments.count }} payment{{ object.payments.count|pluralize }}
  </div>
  <div class="col-sm-2 text-right">
    <small>
      {% if object.self_payed %}
      <span class="badge badge-pill badge-secondary">
        {% trans 'made by the pupil' %}
      </span>
      {% endif %}
    </small>
  </div>
  <div class="col-sm-2 text-right">
    <span class="font-italic text-{% if object.status == 'PND' %}info
                {% elif object.status == 'CCL' %}danger
                {% else %}success{% endif %}">
      <small>
        {{ object.get_status_display }}
      </small>
    </span>
    &nbsp;
    <span class="font-weight-bold text-{% if object.status == 'PND' %}info
                {% elif object.status == 'CCL' %}danger
                {% else %}success{% endif %}">
      {{ object.amount }}
    </span>
  </div>
</div>