{% load i18n %}

<div class="col-sm-10">
  <strong>
    {{ forloop.counter|add:counter }}
    &nbsp;&nbsp;
    {{ obj.short_name }}
  </strong>
  <small>
    &nbsp;&nbsp;&nbsp;
    <em>{{ obj.get_aspect_display }}</em>
    &nbsp;&nbsp;&nbsp;
    <em>{{ obj.local }}</em> 
    {% if obj.user.profile.phone_1 %}
      &nbsp;&nbsp;&nbsp;
      <i class="fas fa-phone"></i> 
      {{ obj.user.profile.phone_1 }}
    {% elif obj.user.profile.phone_2 %}
      &nbsp;&nbsp;&nbsp;
      <i class="fas fa-phone"></i> 
      {{ obj.user.profile.phone_2 }}
    {% endif %}
    {% if obj.user.email %}
      &nbsp;&nbsp;&nbsp;
      <i class="fas fa-envelope"></i> 
      {{ obj.user.email }}
    {% endif %}
  </small>
</div>

<div class="col-sm-2 text-right">
  {% if flag == "group" and obj.publicworkgroup_set.count %}
    <i class="fas fa-user-check mr-1"></i>
  {% elif flag == "membership" and object in obj.workgroup_set.all %}
    <i class="fas fa-user-check mr-1"></i>
  {% elif flag == "person" %}
    <strong>
      {% if obj.status not in 'ACT,---' %}{{ obj.get_status_display }}{% endif %}
    </strong>
  {% elif obj.is_active %}
    <a type="button" 
      href="{{ obj.add_link }}"
      class="btn btn-light text-primary btn-sm">
      <i class="fas fa-plus"></i> {% trans 'Insert' %}
    </a>
  {% endif %}

  {% if obj.click_link %}
    {% if obj.center == request.user.person.center or request.user.is_superuser %}
      <a type="button" 
        href="{{ obj.click_link }}"
        class="btn btn-light text-primary btn-sm">
        <i class="fas fa-eye"></i> {% trans 'Details' %}
      </a>
    {% endif %}
  {% endif %}
</div>