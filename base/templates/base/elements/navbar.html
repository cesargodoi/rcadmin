{% load static %}
{% load base_extras %}
{% load i18n %}

<header class="site-header">
  <nav class="navbar navbar-expand-md navbar-dark bg-steel fixed-top">
    <div class="container">
      <a class="navbar-brand mr-4"
          href="{% if request.user.groups.all|length > 1 or request.user.is_superuser %}{% url 'home' %}{% else %}#{% endif %}">
        <img src="{% static 'images/logo-white.png' %}" class="logo-img" alt="...">

      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainNavbar"
          aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNavbar">
        <div class="navbar-nav mr-auto">
            {% if request.user.groups.all|length > 1 or request.user.is_superuser %}
            {% include "base/elements/menu.html"%}
            {% endif %}
        </div>
        <!-- Navbar Right Side -->
        <div class="navbar-nav">
          {% if user.is_authenticated %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="profile" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-user"></i>
            </a>
            <div class="dropdown-menu" aria-labelledby="profile">
              <a class="dropdown-item" href="{% url 'profile_detail' %}">{% trans 'Profile' %}</a>
              <a class="dropdown-item" href="{% url 'logout' %}">{% trans 'Logout' %}</a>
              <div class="dropdown-divider"></div>
              {% include "base/elements/languages.html"%}
              <button type="button" 
                  class="btn btn-secondary btn-sm m-2" 
                  onclick="changeColor()"
                  data-toggle="tooltip" 
                  data-placement="right" 
                  title="{% if request.session.color_theme == 'dark' %}light{% else %}dark{% endif %}">
                  {% if request.session.color_theme == 'dark' %}
                  <i class="fas fa-sun"></i> Light
                  {% else %}
                  <i class="fas fa-moon"></i> Dark
                  {% endif %}
              </button>
            </div>
          </li>
          
          {% else %}
          <a class="nav-item nav-link" href="{% url 'login' %}">{% trans 'Login' %}
          </a>
          {% endif %}
          
          
        </div>
      </div>
    </div>
  </nav>
</header>
